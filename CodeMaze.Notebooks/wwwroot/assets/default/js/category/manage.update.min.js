$(function(){function u(t){typeof t!="undefined"&&($(n).find('input[name="Id"]').val(t.Id),$(n).find("#category-name").val(t.DisplayName),$(n).find("#category-position").val(t.Position),$(n).find("#category-note").val(t.Note),$(n).find("#show-on-tab").prop("checked",t.ShowOnTab),$(n).find("#publish-for").prop("checked",t.Publish),$(n).find('input[name="url"]').val(t.Url),$(n).find('input[name="code"]').val(t.Code))}function f(){$(".group-customize-url").hide();$(n).find("#category-name").val("");$(n).find("#category-position").val("0");$(n).find("#category-note").val("");$(n).find("#show-on-tab").prop("checked",!1);$(n).find("#publish-for").prop("checked",!0)}const t=document.querySelector("#modal-category-update"),e=t.querySelector(".form-category-update"),i=t.querySelector("h5.modal-title"),n=t.querySelector(".modal-body"),r=t.querySelector("#customize-control-for");r.addEventListener("change",n=>{n.target.checked==!0?$(".group-customize-url").find("input").removeAttr("readonly"):$(".group-customize-url").find("input").prop("readonly",!0)});$(document).on("click",".btn-category-update",function(){let n=this,t=$(n).attr("data-action");if(t=="create"){i.innerHTML="Create Category";f();return}if(t=="update"){i.innerHTML="Update Category";let t=JSON.parse($(n).attr("data-update"));$(".group-customize-url").show();u(t);return}});$(document).on("click",".btn-category-submit",function(t){t.preventDefault();let i=$(n).find('input[name="Id"]').val(),r=typeof i!="undefined"&&i!=""?"/api/category/update/"+i:"/api/category/create";var u=new FormData(jQuery(".form-category-update")[0]);jQuery.ajax({url:r,type:"POST",data:u,dataType:"json",contentType:!1,processData:!1,async:!0,cache:!1,success:function(n){if(n!=null&&n.Successed==!0){jQuery("#modal-category-update").modal("hide");Sweetalert.Success("Data saved success!");$(document).on("mouseup",".swal2-confirm",function(){location.reload()})}else Sweetalert.Error()},error:function(){Sweetalert.Error()}})})});